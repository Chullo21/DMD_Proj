
@{
    ViewData["Title"] = "Admin Lounge";
}

@section scripts {
    <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css" />
    <script>
        $(document).ready(function () {
            $('#travtable').DataTable({
                searching: true,
                lengthChange: false,
                pageLength: 7,
                order: [],
                ordering: false
            });
        });
    </script>
}

<div class="w-100 d-flex">
    <div class="w-25 bg-dark border-dark border-2 align-self-center">
        <marquee class="text-white">
            Welcome to Admin Lounge, please contact the developer if you have concerns or feedback. Thank you and have a great day! 
        </marquee>
    </div>
    <div>
        <a class="btn btn-primary mx-1" asp-controller="Admin" asp-action="AccountsView">Accounts</a>
    </div>
    @*<div>
        <button class="btn btn-primary mx-1" id="travbtnid" data-bs-toggle="modal" data-bs-target="#showtravs" type="button">Travelers</button>
    </div>*@
</div>

@*<div class="modal fade" id="showtravs" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <p class="modal-title">Travelers</p>
                <button class="btn btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-borderless" id="travtable">
                    <thead>
                        <tr>
                            <th>
                                Session ID
                            </th>
                            <th>
                                Document Number
                            </th>
                            <th class="w-25">
                                Action
                            </th>
                        </tr>
                    </thead>
                    <tbody id="travtableBody">
                        
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script>

    $(document).ready(function () {
        // Attach a click event handler to the button
        $("#travbtnid").click(function () {
            // Make an AJAX request when the button is clicked
            $.ajax({
                url: '@Url.Action("ShowTravelers", "Admin")',
                type: "GET", // You can change this to "POST" or other HTTP methods if needed
                dataType: "json", // Change the data type as required (json, xml, html, etc.)
                success: function (response) {
                    // Handle the success response here
                    $("#travtableBody").empty();

                    // Iterate through the list and generate rows
                    $.each(response, function (index, traveler) {
                        var newRow = "<tr>" +
                            "<td>" + traveler.SessionID + "</td>" +
                            "<td>" + traveler.DocNo + "</td>" +
                            "<td>" + '<div class="d-flex justify-content-between"><button class="btn btn-success w-75 mx-2">View</button><button class="btn btn-primary w-100">Download</button></div>' + "</td>" +
                            "</tr>";
                        $("#travtableBody").append(newRow);
                    });
                },
                error: function () {
                    // Handle any errors that occur during the AJAX request
                    console.error("AJAX request failed");
                }
            });
        });
    });
</script>*@
